<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
	<title>降域</title>
	<style type="text/css">
	  .ct{
	    width: 910px;
	    margin: auto;
	  }
	  .main{
	    float: left;
	    width: 450px;
	    height: 300px;
	    border: 1px solid #ccc;
	  }
	  .main input{
	    margin: 20px;
	    width: 200px;
	  }
	  .iframe{
	    float: right;
	  }
	  iframe{
	    width: 450px;
	    height: 300px;
	    border: 1px dashed #ccc;
	  }
	</style>
</head>
<body>
	<div class="ct">
		<h1>postMessage</h1>
		<div class="main">
			<input type="text" placeholder="http://a.c.com:8080/a.html">
		</div>
		<iframe src="http://b.c.com:8080/b.html" frameborder="0"></iframe>
	</div>

	<script type="text/javascript">

		var input = document.querySelector('.main input')

		input.addEventListener('input',function(){
			console.log(this.value);
			window.frames[0].postMessage(this.value,'*');
		})

		window.addEventListener('message',function(e){
			input.value = e.data;
			console.log(e.data);
		})
	</script>
</body>
</html>